---
title: "VKE 시작하기 1편"
description: "Vultr의 관리형 쿠버네티스를 이용해보자"
date: 2024-12-17
---

## TL;DR

Vultr에서 제공하는 VKE(Vultr Kubernetes Engine)를 이용 해보자.  
VKE는 관리형 쿠버네티스 서비스로, 쿠버네티스 클러스터를 쉽게 생성하고 관리할 수 있다.  
이번 글에서는 크레딧이 남는 관계로, VKE를 이용해 쿠버네티스 클러스터를 생성하고, 스프링 어플리케이션을 배포하며 실습해 볼 것이다.

## 클러스터 생성하기

사실 클러스터 생성은, 본인의 구성에 따라 이름과 노드 수, 플랜, 리전을 선택하면 끝이다.
이런 거 또한 처음 구성이 오래 걸리는 기존 On-Premise 환경과는 다르게, 클릭 몇 번으로 끝난다.

이것 또한 테라폼과 Vultr API 키를 통해 코드화할 수 있다. 하지만 실습 단계이고 프로덕션 환경이 아니니, 우선은 웹을 통해 생성해 주었다.

## 접속해서 클러스터 확인하기

생성을 누르면 클러스터가 생성과 동시에 설치 상태에 들어간다, 이를 기다리면 Running 상태로 전환되는데 이때 아래의 과정을 따라 접속을 시작하면 된다.  
필자는 맥 사용자이기 때문에, 맥 기준으로 작성하였다.

```bash
brew install kubectl
```

우선 클러스터에 접속 하기 위해, kubectl을 설치한다.

![Vultr 대시보드](/posts/start-vke-01/01.png)

그 후, Vultr 대시보드 -> Kubernetes -> 생성한 클러스터 -> Download Configuration을 클릭하여 yaml 파일을 받아준다.

```bash
mkdir ~/.kube
cp (다운로드한 yaml 파일) ~/.kube/config
```

폴더를 만든 후, 다운로드 받은 파일을 `~/.kube/config`로 복사해준다.

```bash
kubectl get nodes
```

이렇게 했을때, 생성한 노드들이 나오면 성공이다.

## Helm으로 배포하기

1. Helm 설치하기
2. 실제 배포하기

```bash
brew install helm
```

-> 이후 실제 배포 과정은 다음편에서 계속...
